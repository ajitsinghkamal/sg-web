{"version":3,"sources":["work.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","addHoverToCards","slideMap","forEach","slideDiv","_jquery2","on","slideShow","endSlideShow","_vanillaLazyload2","clientGrid","proGrid","btnClient","btnProactive","gridHolder","background","myLazyLoad1","myLazyLoad2","timer","calcRequiredExtra","available","reduce","acc","size","currentRequired","Math","max","addToGrid","grid","cell","append","_this","this","fadeOut","fadeIn","setInterval","next","end","appendTo","clearInterval","constructGrid","gridData","gridType","gridLength","Object","keys","data","index","card","addClass","imgSlot","attr","thumb_image","thumb_slide","sl","hide","push","thumb_title","thumb_tag","error","console","message","dummyPanes","newGridElement","removeClass","get","response","done","key","container","document","getElementById","fail","jquery","vanilla-lazyload"],"mappings":"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","file":"../work.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _vanillaLazyload = require('vanilla-lazyload');\n\nvar _vanillaLazyload2 = _interopRequireDefault(_vanillaLazyload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Constants declaration\nvar API = 'https://sudeepgandhiweb.firebaseio.com/.json'; // database path\n\n// const fire = firebase.initializeApp({\n// \tapiKey: 'AIzaSyDiMtPwt58-NEnR56kTzJ9HddG5IrGuhrE',\n// \tauthDomain: 'sudeepgandhiweb.firebaseapp.com',\n// \tdatabaseURL: 'https://sudeepgandhiweb.firebaseio.com',\n// \tprojectId: 'sudeepgandhiweb',\n// });\n\n// const db = fire.database();\n\n\n// DOM references\n\n\n// import * as firebase from 'firebase/app';\n// import 'firebase/database';\n\nvar clientGrid = (0, _jquery2.default)('.grid__client');\nvar proGrid = (0, _jquery2.default)('.grid__proactive');\nvar btnClient = (0, _jquery2.default)('.gallery__btn-client');\nvar btnProactive = (0, _jquery2.default)('.gallery__btn-proactive');\nvar gridHolder = (0, _jquery2.default)('.grid-holder');\nvar background = (0, _jquery2.default)('.work-page');\n\n// initialise lazy loading\nvar myLazyLoad1 = void 0;\nvar myLazyLoad2 = void 0;\n\nvar timer = null;\n\nvar slideMap = []; // holds id reference for divs with slideshow\n\n\nvar calcRequiredExtra = function calcRequiredExtraFunc(available) {\n\treturn [2, 3, 4, 5].reduce(function (acc, size) {\n\t\tvar currentRequired = size - available % size;\n\t\treturn Math.max(currentRequired, acc);\n\t}, 0);\n};\n\nvar addToGrid = function addToGridFunc(grid, cell) {\n\tif (grid === 'client') {\n\t\tclientGrid.append(cell);\n\t}\n\tif (grid === 'pro') {\n\t\tproGrid.append(cell);\n\t}\n};\n\n// slideshow \nvar slideShow = function slideShowFunc() {\n\tvar _this = this;\n\n\t(0, _jquery2.default)(':first-child', this).fadeOut();\n\t(0, _jquery2.default)(':nth-child(2)', this).fadeIn(1000);\n\ttimer = setInterval(function () {\n\t\t(0, _jquery2.default)(':nth-child(2)', _this).fadeOut(1000).next().fadeIn(1000).end().appendTo(_this);\n\t}, 1200);\n};\n\nvar endSlideShow = function endSlideShowFunc() {\n\t(0, _jquery2.default)(':first-child', this).fadeIn(1000);\n\tclearInterval(timer);\n};\n\nfunction addHoverToCards() {\n\tslideMap.forEach(function (slideDiv) {\n\t\t(0, _jquery2.default)('#' + slideDiv).on('mouseenter', slideShow);\n\t\t(0, _jquery2.default)('#' + slideDiv).on('mouseleave', endSlideShow);\n\t});\n}\n/**\n * takes in response from firebase database\n * and construct the grid showcase of the work done\n * \n * @param {object} data \n */\nvar constructGrid = function constructGridFunc(gridData, gridType) {\n\tvar gridLength = 0;\n\tObject.keys(gridData).forEach(function (data, index) {\n\t\ttry {\n\t\t\tvar card = (0, _jquery2.default)('<a href=overview?work=' + data + '></a>').addClass('grid-cell card');\n\n\t\t\tvar imgSlot = (0, _jquery2.default)(\"<div class='card__image'></div>\").attr('id', gridType + index);\n\n\t\t\timgSlot.append((0, _jquery2.default)('<img data-original=' + gridData[data].thumb_image + '></div>').addClass('lazyload'));\n\t\t\tif (gridData[data].thumb_slide) {\n\t\t\t\tgridData[data].thumb_slide.forEach(function (sl) {\n\t\t\t\t\timgSlot.append((0, _jquery2.default)('<img src=' + sl + '>').hide());\n\t\t\t\t});\n\t\t\t\tslideMap.push(gridType + index);\n\t\t\t}\n\t\t\tcard.append(imgSlot);\n\t\t\tcard.append((0, _jquery2.default)('<div><h3>' + gridData[data].thumb_title + '</h3><p>' + gridData[data].thumb_tag + '</p></div>').addClass('card__desc'));\n\n\t\t\taddToGrid(gridType, card, index);\n\t\t\tgridLength += 1;\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t}\n\t});\n\tvar dummyPanes = calcRequiredExtra(gridLength);\n\n\tfor (var i = 0; i < dummyPanes; i += 1) {\n\t\tvar newGridElement = (0, _jquery2.default)('<div></div>').addClass('grid-cell grid-cell--empty');\n\t\taddToGrid(gridType, newGridElement);\n\t}\n};\n\n// db.ref().on('value', (snapshot) => {\n// \tconst clientWorkList = snapshot.child('client').val();\n// \tconstructGrid(clientWorkList, 'client');\n// \tconst proWorkList = snapshot.child('pro').val();\n// \tconstructGrid(proWorkList, 'pro');\n\n// \tmyLazyLoad = new LazyLoad();\n// \taddHoverToCards();\n// });\n// db.ref('/pro/').once('value', (snapshot) => {\n// });\n\n/**\n * calls firebase data api , \n * fetches response and initiate grid construction\n * \n */\nvar beginShowcase = function beginShowcaseFunc() {\n\t_jquery2.default.get(API, function (response) {\n\t\t// console.log(response);\n\t}).done(function (response) {\n\t\tObject.keys(response).forEach(function (key) {\n\t\t\tconstructGrid(response[key], key);\n\t\t});\n\n\t\tmyLazyLoad1 = new _vanillaLazyload2.default({\n\t\t\tcontainer: document.getElementById('o-client')\n\t\t});\n\n\t\tmyLazyLoad2 = new _vanillaLazyload2.default({\n\t\t\tcontainer: document.getElementById('o-proactive')\n\t\t});\n\n\t\taddHoverToCards();\n\t\t(0, _jquery2.default)('.grid--fetch').addClass('grid--complete');\n\t}).fail(function (error) {\n\t\tconsole.error(error.message);\n\t});\n};\n\n// ------------- event listeners ---------------------\n\n/**\n * \n */\nbtnClient.on('click', function () {\n\tbackground.removeClass('work-page--bg');\n\tbtnClient.addClass('gallery--active');\n\tbtnProactive.removeClass('gallery--active');\n\tgridHolder.removeClass('grid--slide');\n});\n\nbtnProactive.on('click', function () {\n\tbackground.addClass('work-page--bg');\n\tbtnClient.removeClass('gallery--active');\n\tbtnProactive.addClass('gallery--active');\n\tgridHolder.addClass('grid--slide');\n});\n\nbeginShowcase();\n\n},{\"jquery\":\"jquery\",\"vanilla-lazyload\":\"vanilla-lazyload\"}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy93b3JrLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUtBOzs7Ozs7QUFFQTtBQUNBLElBQU0sTUFBTSw4Q0FBWixDLENBQTREOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOzs7QUFsQkE7QUFDQTs7QUFrQkEsSUFBTSxhQUFhLHNCQUFFLGVBQUYsQ0FBbkI7QUFDQSxJQUFNLFVBQVUsc0JBQUUsa0JBQUYsQ0FBaEI7QUFDQSxJQUFNLFlBQVksc0JBQUUsc0JBQUYsQ0FBbEI7QUFDQSxJQUFNLGVBQWUsc0JBQUUseUJBQUYsQ0FBckI7QUFDQSxJQUFNLGFBQWEsc0JBQUUsY0FBRixDQUFuQjtBQUNBLElBQU0sYUFBYSxzQkFBRSxZQUFGLENBQW5COztBQUVBO0FBQ0EsSUFBSSxvQkFBSjtBQUNBLElBQUksb0JBQUo7O0FBRUEsSUFBSSxRQUFRLElBQVo7O0FBRUEsSUFBTSxXQUFXLEVBQWpCLEMsQ0FBcUI7OztBQUdyQixJQUFNLG9CQUFvQixTQUFTLHFCQUFULENBQStCLFNBQS9CLEVBQTBDO0FBQ25FLFFBQU8sQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsTUFBYixDQUFvQixVQUFDLEdBQUQsRUFBTSxJQUFOLEVBQWU7QUFDekMsTUFBTSxrQkFBa0IsT0FBUSxZQUFZLElBQTVDO0FBQ0EsU0FBTyxLQUFLLEdBQUwsQ0FBUyxlQUFULEVBQTBCLEdBQTFCLENBQVA7QUFDQSxFQUhNLEVBR0osQ0FISSxDQUFQO0FBSUEsQ0FMRDs7QUFPQSxJQUFNLFlBQVksU0FBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCLElBQTdCLEVBQW1DO0FBQ3BELEtBQUksU0FBUyxRQUFiLEVBQXVCO0FBQ3RCLGFBQVcsTUFBWCxDQUFrQixJ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Q0FBTSxHQUFOLEVBQVcsVUFBQyxRQUFELEVBQWM7QUFDeEI7QUFDQSxFQUZELEVBR0UsSUFIRixDQUdPLFVBQUMsUUFBRCxFQUFjO0FBQ25CLFNBQU8sSUFBUCxDQUFZLFFBQVosRUFBc0IsT0FBdEIsQ0FBOEIsVUFBQyxHQUFELEVBQVM7QUFDdEMsaUJBQWMsU0FBUyxHQUFULENBQWQsRUFBNkIsR0FBN0I7QUFDQSxHQUZEOztBQUlBLGdCQUFjLDhCQUFhO0FBQzFCLGNBQVcsU0FBUyxjQUFULENBQXdCLFVBQXhCO0FBRGUsR0FBYixDQUFkOztBQUlBLGdCQUFjLDhCQUFhO0FBQzFCLGNBQVcsU0FBUyxjQUFULENBQXdCLGFBQXhCO0FBRGUsR0FBYixDQUFkOztBQUlBO0FBQ0Esd0JBQUUsY0FBRixFQUFrQixRQUFsQixDQUEyQixnQkFBM0I7QUFDQSxFQWxCRixFQW1CRSxJQW5CRixDQW1CTyxVQUFDLEtBQUQsRUFBVztBQUNoQixVQUFRLEtBQVIsQ0FBYyxNQUFNLE9BQXBCO0FBQ0EsRUFyQkY7QUFzQkEsQ0F2QkQ7O0FBeUJBOztBQUVBOzs7QUFHQSxVQUFVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFlBQU07QUFDM0IsWUFBVyxXQUFYLENBQXVCLGVBQXZCO0FBQ0EsV0FBVSxRQUFWLENBQW1CLGlCQUFuQjtBQUNBLGNBQWEsV0FBYixDQUF5QixpQkFBekI7QUFDQSxZQUFXLFdBQVgsQ0FBdUIsYUFBdkI7QUFDQSxDQUxEOztBQU9BLGFBQWEsRUFBYixDQUFnQixPQUFoQixFQUF5QixZQUFNO0FBQzlCLFlBQVcsUUFBWCxDQUFvQixlQUFwQjtBQUNBLFdBQVUsV0FBVixDQUFzQixpQkFBdEI7QUFDQSxjQUFhLFFBQWIsQ0FBc0IsaUJBQXRCO0FBQ0EsWUFBVyxRQUFYLENBQW9CLGFBQXBCO0FBQ0EsQ0FMRDs7QUFPQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG4vLyBpbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnO1xuLy8gaW1wb3J0ICdmaXJlYmFzZS9kYXRhYmFzZSc7XG5cbmltcG9ydCBMYXp5TG9hZCBmcm9tICd2YW5pbGxhLWxhenlsb2FkJztcblxuLy8gQ29uc3RhbnRzIGRlY2xhcmF0aW9uXG5jb25zdCBBUEkgPSAnaHR0cHM6Ly9zdWRlZXBnYW5kaGl3ZWIuZmlyZWJhc2Vpby5jb20vLmpzb24nOyAvLyBkYXRhYmFzZSBwYXRoXG5cbi8vIGNvbnN0IGZpcmUgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKHtcbi8vIFx0YXBpS2V5OiAnQUl6YVN5RGlNdFB3dDU4LU5FblI1NmtUeko5SGRkRzVJckd1aHJFJyxcbi8vIFx0YXV0aERvbWFpbjogJ3N1ZGVlcGdhbmRoaXdlYi5maXJlYmFzZWFwcC5jb20nLFxuLy8gXHRkYXRhYmFzZVVSTDogJ2h0dHBzOi8vc3VkZWVwZ2FuZGhpd2ViLmZpcmViYXNlaW8uY29tJyxcbi8vIFx0cHJvamVjdElkOiAnc3VkZWVwZ2FuZGhpd2ViJyxcbi8vIH0pO1xuXG4vLyBjb25zdCBkYiA9IGZpcmUuZGF0YWJhc2UoKTtcblxuXG4vLyBET00gcmVmZXJlbmNlc1xuY29uc3QgY2xpZW50R3JpZCA9ICQoJy5ncmlkX19jbGllbnQnKTtcbmNvbnN0IHByb0dyaWQgPSAkKCcuZ3JpZF9fcHJvYWN0aXZlJyk7XG5jb25zdCBidG5DbGllbnQgPSAkKCcuZ2FsbGVyeV9fYnRuLWNsaWVudCcpO1xuY29uc3QgYnRuUHJvYWN0aXZlID0gJCgnLmdhbGxlcnlfX2J0bi1wcm9hY3RpdmUnKTtcbmNvbnN0IGdyaWRIb2xkZXIgPSAkKCcuZ3JpZC1ob2xkZXInKTtcbmNvbnN0IGJhY2tncm91bmQgPSAkKCcud29yay1wYWdlJyk7XG5cbi8vIGluaXRpYWxpc2UgbGF6eSBsb2FkaW5nXG5sZXQgbXlMYXp5TG9hZDEgO1xubGV0IG15TGF6eUxvYWQyIDtcblxubGV0IHRpbWVyID0gbnVsbDtcblxuY29uc3Qgc2xpZGVNYXAgPSBbXTsgLy8gaG9sZHMgaWQgcmVmZXJlbmNlIGZvciBkaXZzIHdpdGggc2xpZGVzaG93XG5cblxuY29uc3QgY2FsY1JlcXVpcmVkRXh0cmEgPSBmdW5jdGlvbiBjYWxjUmVxdWlyZWRFeHRyYUZ1bmMoYXZhaWxhYmxlKSB7XG5cdHJldHVybiBbMiwgMywgNCwgNV0ucmVkdWNlKChhY2MsIHNpemUpID0+IHtcblx0XHRjb25zdCBjdXJyZW50UmVxdWlyZWQgPSBzaXplIC0gKGF2YWlsYWJsZSAlIHNpemUpO1xuXHRcdHJldHVybiBNYXRoLm1heChjdXJyZW50UmVxdWlyZWQsIGFjYyk7XG5cdH0sIDApO1xufTtcblxuY29uc3QgYWRkVG9HcmlkID0gZnVuY3Rpb24gYWRkVG9HcmlkRnVuYyhncmlkLCBjZWxsKSB7XG5cdGlmIChncmlkID09PSAnY2xpZW50Jykge1xuXHRcdGNsaWVudEdyaWQuYXBwZW5kKGNlbGwpO1xuXHR9XG5cdGlmIChncmlkID09PSAncHJvJykge1xuXHRcdHByb0dyaWQuYXBwZW5kKGNlbGwpO1xuXHR9XG59O1xuXG5cbi8vIHNsaWRlc2hvdyBcbmNvbnN0IHNsaWRlU2hvdyA9IGZ1bmN0aW9uIHNsaWRlU2hvd0Z1bmMoKSB7XG5cdCQoJzpmaXJzdC1jaGlsZCcsIHRoaXMpLmZhZGVPdXQoKTtcblx0JCgnOm50aC1jaGlsZCgyKScsIHRoaXMpLmZhZGVJbigxMDAwKTtcblx0dGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0JCgnOm50aC1jaGlsZCgyKScsIHRoaXMpXG5cdFx0XHQuZmFkZU91dCgxMDAwKVxuXHRcdFx0Lm5leHQoKVxuXHRcdFx0LmZhZGVJbigxMDAwKVxuXHRcdFx0LmVuZCgpXG5cdFx0XHQuYXBwZW5kVG8odGhpcyk7XG5cdH0sIDEyMDApO1xufTtcblxuY29uc3QgZW5kU2xpZGVTaG93ID0gZnVuY3Rpb24gZW5kU2xpZGVTaG93RnVuYygpIHtcblx0JCgnOmZpcnN0LWNoaWxkJywgdGhpcykuZmFkZUluKDEwMDApO1xuXHRjbGVhckludGVydmFsKHRpbWVyKTtcbn07XG5cblxuZnVuY3Rpb24gYWRkSG92ZXJUb0NhcmRzKCkge1xuXHRzbGlkZU1hcC5mb3JFYWNoKChzbGlkZURpdikgPT4ge1xuXHRcdCQoYCMke3NsaWRlRGl2fWApLm9uKCdtb3VzZWVudGVyJywgc2xpZGVTaG93KTtcblx0XHQkKGAjJHtzbGlkZURpdn1gKS5vbignbW91c2VsZWF2ZScsIGVuZFNsaWRlU2hvdyk7XG5cdH0pO1xufVxuLyoqXG4gKiB0YWtlcyBpbiByZXNwb25zZSBmcm9tIGZpcmViYXNlIGRhdGFiYXNlXG4gKiBhbmQgY29uc3RydWN0IHRoZSBncmlkIHNob3djYXNlIG9mIHRoZSB3b3JrIGRvbmVcbiAqIFxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgXG4gKi9cbmNvbnN0IGNvbnN0cnVjdEdyaWQgPSBmdW5jdGlvbiBjb25zdHJ1Y3RHcmlkRnVuYyhncmlkRGF0YSwgZ3JpZFR5cGUpIHtcblx0bGV0IGdyaWRMZW5ndGggPSAwO1xuXHRPYmplY3Qua2V5cyhncmlkRGF0YSkuZm9yRWFjaCgoZGF0YSwgaW5kZXgpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgY2FyZCA9ICQoYDxhIGhyZWY9b3ZlcnZpZXc/d29yaz0ke2RhdGF9PjwvYT5gKS5hZGRDbGFzcygnZ3JpZC1jZWxsIGNhcmQnKTtcblxuXHRcdFx0Y29uc3QgaW1nU2xvdCA9ICgkKFwiPGRpdiBjbGFzcz0nY2FyZF9faW1hZ2UnPjwvZGl2PlwiKS5hdHRyKCdpZCcsIGdyaWRUeXBlICsgaW5kZXgpKTtcblxuXHRcdFx0aW1nU2xvdC5hcHBlbmQoJChgPGltZyBkYXRhLW9yaWdpbmFsPSR7Z3JpZERhdGFbZGF0YV0udGh1bWJfaW1hZ2V9PjwvZGl2PmApLmFkZENsYXNzKCdsYXp5bG9hZCcpKTtcblx0XHRcdGlmIChncmlkRGF0YVtkYXRhXS50aHVtYl9zbGlkZSkge1xuXHRcdFx0XHRncmlkRGF0YVtkYXRhXS50aHVtYl9zbGlkZS5mb3JFYWNoKChzbCkgPT4ge1xuXHRcdFx0XHRcdGltZ1Nsb3QuYXBwZW5kKCQoYDxpbWcgc3JjPSR7c2x9PmApLmhpZGUoKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzbGlkZU1hcC5wdXNoKGdyaWRUeXBlICsgaW5kZXgpO1xuXHRcdFx0fVxuXHRcdFx0Y2FyZC5hcHBlbmQoaW1nU2xvdCk7XG5cdFx0XHRjYXJkLmFwcGVuZCgkKGA8ZGl2PjxoMz4ke2dyaWREYXRhW2RhdGFdLnRodW1iX3RpdGxlfTwvaDM+PHA+JHtncmlkRGF0YVtkYXRhXS50aHVtYl90YWd9PC9wPjwvZGl2PmApLmFkZENsYXNzKCdjYXJkX19kZXNjJykpO1xuXG5cdFx0XHRhZGRUb0dyaWQoZ3JpZFR5cGUsIGNhcmQsIGluZGV4KTtcblx0XHRcdGdyaWRMZW5ndGggKz0gMTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcblx0XHR9XG5cdH0pO1xuXHRjb25zdCBkdW1teVBhbmVzID0gY2FsY1JlcXVpcmVkRXh0cmEoZ3JpZExlbmd0aCk7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkdW1teVBhbmVzOyBpICs9IDEpIHtcblx0XHRjb25zdCBuZXdHcmlkRWxlbWVudCA9ICQoJzxkaXY+PC9kaXY+JykuYWRkQ2xhc3MoJ2dyaWQtY2VsbCBncmlkLWNlbGwtLWVtcHR5Jyk7XG5cdFx0YWRkVG9HcmlkKGdyaWRUeXBlLCBuZXdHcmlkRWxlbWVudCk7XG5cdH1cbn07XG5cbi8vIGRiLnJlZigpLm9uKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuLy8gXHRjb25zdCBjbGllbnRXb3JrTGlzdCA9IHNuYXBzaG90LmNoaWxkKCdjbGllbnQnKS52YWwoKTtcbi8vIFx0Y29uc3RydWN0R3JpZChjbGllbnRXb3JrTGlzdCwgJ2NsaWVudCcpO1xuLy8gXHRjb25zdCBwcm9Xb3JrTGlzdCA9IHNuYXBzaG90LmNoaWxkKCdwcm8nKS52YWwoKTtcbi8vIFx0Y29uc3RydWN0R3JpZChwcm9Xb3JrTGlzdCwgJ3BybycpO1xuXG4vLyBcdG15TGF6eUxvYWQgPSBuZXcgTGF6eUxvYWQoKTtcbi8vIFx0YWRkSG92ZXJUb0NhcmRzKCk7XG4vLyB9KTtcbi8vIGRiLnJlZignL3Byby8nKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuLy8gfSk7XG5cbi8qKlxuICogY2FsbHMgZmlyZWJhc2UgZGF0YSBhcGkgLCBcbiAqIGZldGNoZXMgcmVzcG9uc2UgYW5kIGluaXRpYXRlIGdyaWQgY29uc3RydWN0aW9uXG4gKiBcbiAqL1xuY29uc3QgYmVnaW5TaG93Y2FzZSA9IGZ1bmN0aW9uIGJlZ2luU2hvd2Nhc2VGdW5jKCkge1xuXHQkLmdldChBUEksIChyZXNwb25zZSkgPT4ge1xuXHRcdC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblx0fSlcblx0XHQuZG9uZSgocmVzcG9uc2UpID0+IHtcblx0XHRcdE9iamVjdC5rZXlzKHJlc3BvbnNlKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRcdFx0Y29uc3RydWN0R3JpZChyZXNwb25zZVtrZXldLCBrZXkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdG15TGF6eUxvYWQxID0gbmV3IExhenlMb2FkKHtcblx0XHRcdFx0Y29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnby1jbGllbnQnKSxcblx0XHRcdH0pO1xuXG5cdFx0XHRteUxhenlMb2FkMiA9IG5ldyBMYXp5TG9hZCh7XG5cdFx0XHRcdGNvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ28tcHJvYWN0aXZlJyksXG5cdFx0XHR9KTtcblxuXHRcdFx0YWRkSG92ZXJUb0NhcmRzKCk7XG5cdFx0XHQkKCcuZ3JpZC0tZmV0Y2gnKS5hZGRDbGFzcygnZ3JpZC0tY29tcGxldGUnKTtcblx0XHR9KVxuXHRcdC5mYWlsKChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcblx0XHR9KTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0gZXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIFxuICovXG5idG5DbGllbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuXHRiYWNrZ3JvdW5kLnJlbW92ZUNsYXNzKCd3b3JrLXBhZ2UtLWJnJyk7XG5cdGJ0bkNsaWVudC5hZGRDbGFzcygnZ2FsbGVyeS0tYWN0aXZlJyk7XG5cdGJ0blByb2FjdGl2ZS5yZW1vdmVDbGFzcygnZ2FsbGVyeS0tYWN0aXZlJyk7XG5cdGdyaWRIb2xkZXIucmVtb3ZlQ2xhc3MoJ2dyaWQtLXNsaWRlJyk7XG59KTtcblxuYnRuUHJvYWN0aXZlLm9uKCdjbGljaycsICgpID0+IHtcblx0YmFja2dyb3VuZC5hZGRDbGFzcygnd29yay1wYWdlLS1iZycpO1xuXHRidG5DbGllbnQucmVtb3ZlQ2xhc3MoJ2dhbGxlcnktLWFjdGl2ZScpO1xuXHRidG5Qcm9hY3RpdmUuYWRkQ2xhc3MoJ2dhbGxlcnktLWFjdGl2ZScpO1xuXHRncmlkSG9sZGVyLmFkZENsYXNzKCdncmlkLS1zbGlkZScpO1xufSk7XG5cbmJlZ2luU2hvd2Nhc2UoKTtcblxuIl19\n"]}